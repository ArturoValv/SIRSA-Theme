const coverSlider=document.querySelector(".cover-slider"),coverSlides=document.querySelectorAll(".cover-slider .slide");let autoplayInterval;const sections=document.querySelectorAll("body.page-template-template-homepage section:not(.cover-slider), body .site-footer");function coverPositioning(){coverSlider.style.marginTop=siteHeader.clientHeight+"px",coverSlider.style.height=window.innerHeight-siteHeader.clientHeight+"px"}function initSlider(){document.querySelector(".cover-slider .slide[data-id='slide-0']").classList.add("visible"),document.querySelector(".cover-slider .slide[data-id='slide-0'] .content").classList.add("visible")}function turnVisible(e,t){if(t.children[1]==e.target){let e=t.getAttribute("data-id").split("-"),i=Number(e[1])+1;t.classList.remove("visible"),t.querySelector(".content").classList.remove("visible"),i!==coverSlides.length?(coverSlides[i].classList.add("visible"),coverSlides[i].querySelector(".content").classList.add("visible")):(coverSlides[0].classList.add("visible"),coverSlides[0].querySelector(".content").classList.add("visible"))}}function startAutoplay(){autoplayInterval||(autoplayInterval=setInterval(autoplay,6e3))}function autoplay(){let e=document.querySelector(".cover-slider .slide.visible"),t=e.getAttribute("data-id").split("-"),i=Number(t[1])+1;e.classList.remove("visible"),e.querySelector(".content").classList.remove("visible"),i!==coverSlides.length?(coverSlides[i].classList.add("visible"),coverSlides[i].querySelector(".content").classList.add("visible")):(coverSlides[0].classList.add("visible"),coverSlides[0].querySelector(".content").classList.add("visible"))}function stopAutoplay(){clearInterval(autoplayInterval),autoplayInterval=null}function initSections(){sections.forEach(e=>{e.setAttribute("data-visibility","hidden")})}function isVisibleInViewport(){sections.forEach(e=>{let t=e.offsetTop;window.scrollY>=t-siteHeader.clientHeight&&e.setAttribute("data-visibility","visible")})}document.addEventListener("DOMContentLoaded",()=>{initSections(),isVisibleInViewport(),coverSlider&&(coverPositioning(),startAutoplay()),0!=coverSlides.length&&initSlider(),coverSlider.classList.contains("autoplay")&&(coverSlider.addEventListener("mouseover",stopAutoplay),coverSlider.addEventListener("mouseout",startAutoplay)),window.addEventListener("resize",coverPositioning),0!=coverSlides.length&&coverSlides.forEach(e=>{e.addEventListener("click",t=>turnVisible(t,e))})}),window.addEventListener("load",()=>{window.addEventListener("scroll",isVisibleInViewport)});