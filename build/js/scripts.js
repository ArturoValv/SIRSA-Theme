const mobileBtn=document.querySelector("#menu-mobile"),closeBtn=document.querySelector("#close-btn"),backBtn=document.querySelector("#back-btn"),navWrapper=document.querySelector("#nav-wrapper"),parentMenuItems=document.querySelectorAll(".main-menu .menu-item-has-children"),searchBtn=document.querySelector("#search-btn"),closeOverlay=document.querySelector("#overlay-close"),searchOverlay=document.querySelector("#search-overlay"),coverSlides=document.querySelectorAll(".cover-slider .slide"),portfolioCategories=document.querySelectorAll(".page-template-template-portfolio .portfolio__categories .category"),projects=document.querySelectorAll(".page-template-template-portfolio .project");function eventListeners(){window.screen.width<1023&&(mobileBtn.addEventListener("click",showMenu),parentMenuItems.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),showSubmenu(e)})}),closeBtn.addEventListener("click",hideMenu),backBtn.addEventListener("click",hideSubMenu)),searchBtn.addEventListener("click",showSearch),closeOverlay.addEventListener("click",closeSearch),coverSlides&&coverSlides.forEach(e=>{e.addEventListener("click",t=>turnVisible(t,e))}),portfolioCategories&&portfolioCategories.forEach(e=>{e.addEventListener("click",t=>filterCategories(t,e))})}function showMenu(){mobileBtn.classList.add("open"),navWrapper.classList.add("open")}function showSubmenu(e){e.currentTarget.children[1].classList.add("open"),backBtn.style.display="flex"}function hideMenu(){document.querySelectorAll(".main-menu .sub-menu.open, #nav-wrapper.open, #menu-mobile.open").forEach(e=>{e.classList.remove("open")})}function hideSubMenu(){let e=document.querySelectorAll(".main-menu .sub-menu.open"),t=e.length;t>0&&e[t-1].classList.remove("open"),1==t&&(backBtn.style.display="none")}function showSearch(){searchOverlay.classList.add("open"),closeOverlay.classList.add("open")}function closeSearch(){searchOverlay.classList.remove("open"),closeOverlay.classList.remove("open")}function initSlider(){document.querySelector(".cover-slider .slide[data-id='slide-0']").classList.add("visible"),document.querySelector(".cover-slider .slide[data-id='slide-0'] .content").classList.add("visible")}function turnVisible(e,t){let s=t.getAttribute("data-id").split("-"),l=Number(s[1])+1;t.classList.remove("visible"),t.querySelector(".content").classList.remove("visible"),l!==coverSlides.length?(coverSlides[l].classList.add("visible"),coverSlides[l].querySelector(".content").classList.add("visible")):(coverSlides[0].classList.add("visible"),coverSlides[0].querySelector(".content").classList.add("visible"))}function filterCategories(e,t){let s=t.getAttribute("data-cat");portfolioCategories.forEach(e=>{e.classList.remove("selected")}),t.classList.add("selected"),projects.forEach(e=>{if(e.classList.remove("visible"),console.log(s),"0"==s)e.style.display="flex",setTimeout(()=>{e.classList.add("visible")},400);else{e.getAttribute("data-cat").split("-").includes(s)&&(e.style.display="flex",setTimeout(()=>{e.classList.add("visible")},300))}}),setTimeout(()=>{document.querySelectorAll(".page-template-template-portfolio .project:not(.visible)").forEach(e=>{e.style.display="none"})},400)}document.addEventListener("DOMContentLoaded",()=>{eventListeners(),coverSlides&&initSlider()});